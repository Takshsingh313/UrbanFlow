<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UrbanFlow | Dynamics Lab</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="landing-body">
    <nav class="landing-nav">
        <div class="nav-logo">
            <img src="images/logo.png" alt="UrbanFlow Logo" class="logo-icon"
                style="height: 32px; width: auto; filter: invert(1);"> UrbanFlow
        </div>
        <div class="nav-cta-container">
            <button id="theme-toggle" onclick="toggleTheme()" class="nav-btn"
                style="background: transparent; border: none; font-size: 1.2rem; cursor: pointer; padding: 0.5rem; margin-right: 0.5rem;">☀️</button>
            <a href="usage.html" class="nav-btn">How to Use</a>
        </div>
    </nav>
    <script src="js/theme.js"></script>

    <div class="hero-section">
        <div
            style="background: rgba(255,255,255,0.05); padding: 0.5rem 1rem; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 2rem; font-size: 0.9rem; letter-spacing: 0.05em; color: var(--text-secondary); opacity: 0; animation: fadeInUp 1s ease-out forwards 0s;">
            RESEARCH LAB v1.0
        </div>

        <h1 class="hero-title">UrbanFlow<br>Dynamics</h1>
        <p class="hero-subtitle">
            An advanced traffic dynamics laboratory powered by the Nagel-Schreckenberg cellular automata model. Analyze
            flow, congestion, and emergent system behavior in real-time.
        </p>

        <a href="index.html" class="cta-button">Enter Research Lab</a>

        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">∑</div>
                <h3 style="font-family: var(--font-display); font-size: 1.2rem; margin-bottom: 0.5rem;">Mathematical
                    Core</h3>
                <p style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.5;">
                    Built on physically rigorous stochastic models to accurately simulate driver behavior and phase
                    transitions.
                </p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3 style="font-family: var(--font-display); font-size: 1.2rem; margin-bottom: 0.5rem;">Real-time
                    Telemetry</h3>
                <p style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.5;">
                    Live streaming of flow rate, density, and velocity data via high-performance WebSockets.
                </p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">⌬</div>
                <h3 style="font-family: var(--font-display); font-size: 1.2rem; margin-bottom: 0.5rem;">Emergent
                    Dynamics</h3>
                <p style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.5;">
                    Observe "phantom traffic jams" and other non-linear phenomena emerge naturally from local
                    interaction rules.
                </p>
            </div>
        </div>

        <footer style="margin-top: auto; padding-top: 4rem; color: var(--text-tertiary); font-size: 0.8rem;">
            &copy; 2025 UrbanFlow Research Group. All systems normal.
        </footer>
    </div>

    <div id="transition-overlay">
    </div>

    <script>
        document.querySelector('.cta-button').addEventListener('click', function (e) {
            e.preventDefault();
            const overlay = document.getElementById('transition-overlay');
            const targetUrl = this.href;

            overlay.innerHTML = '<div class="city-container"><div class="city-grid"></div></div>';
            const cityContainer = overlay.querySelector('.city-container');

            overlay.classList.add('active');

            const buildingCount = 40;
            for (let i = 0; i < buildingCount; i++) {
                const building = document.createElement('div');
                building.className = 'data-building';

                const height = Math.random() * 300 + 100;
                const left = (Math.random() * 400 - 200) + '%';
                const delay = Math.random() * 2;
                const width = Math.random() * 40 + 20;

                building.style.height = height + 'px';
                building.style.left = typeof left === 'string' ? left : '0';
            }

            for (let i = 0; i < 20; i++) {
                createBuilding(cityContainer, true);
            }
            // Right side
            for (let i = 0; i < 20; i++) {
                createBuilding(cityContainer, false);
            }

            setTimeout(() => {
                window.location.href = targetUrl;
            }, 2500);
        });

        function createBuilding(container, isLeft) {
            const building = document.createElement('div');
            building.className = 'data-building';

            const height = Math.random() * 400 + 100;
            building.style.height = height + 'px';

            const offset = (Math.random() * 50 + 20) * (isLeft ? -1 : 1);
            building.style.left = `calc(50% + ${offset}%)`;
            building.style.bottom = '-50px'; 

            const delay = Math.random() * 2;
            building.style.animationDelay = delay + 's';

            container.appendChild(building);
        }
    </script>
</body>

</html>
